{"version":3,"sources":["MiniURL.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","config","hashIds","createAtOnce","msBetweenBulks","insertAtOnce","regExp","base32Lookup","customAlias","maxSize","urlMaxSize","2","urlParser","url","logErrors","result","parser","console","error","parse","./urlParserCommon","3","process","Parser","this","yy","k","v","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","trace","symbols_","input","EMAIL","EOF","HASHEND","baseurlWithPath","?","querystring","KEYVALUEPAIR","&","baseurl","URLPATH","hostname","HTTP","loginpassword","port",":","IDENTIFIER","-",".","password","@","PASSWORD_SPECIAL","$accept","$end","terminals_","4","5","7","9","11","12","14","16","19","20","21","22","24","25","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","test","table","6","8","13","15","17","18","10","23","defaultActions","34","35","37","parseError","str","hash","_parseError","msg","message","recoverable","prototype","self","stack","vstack","lstack","recovering","TERROR","args","slice","arguments","lexer","Object","create","sharedState","hasOwnProperty","setInput","yylloc","yyloc","push","ranges","options","getPrototypeOf","symbol","preErrorSymbol","state","action","p","len","newState","expected","lex","token","yyval","errStr","showPosition","join","text","match","line","loc","Array","$","first_line","last_line","first_column","last_column","range","apply","concat","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","split","substr","oldLines","more","reject","backtrack_lexer","less","pastInput","past","replace","upcomingInput","next","pre","c","test_match","indexed_rule","backup","matches","tempMatch","index","rules","_currentRules","flex","begin","condition","popState","pop","conditions","topState","Math","abs","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","INITIAL","inclusive","main","log","exit","source","readFileSync","normalize","argv","_process","fs","path","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","splitPathRe","splitPath","filename","exec","resolve","resolvedPath","resolvedAbsolute","cwd","TypeError","charAt","isAbsolute","trailingSlash","paths","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","root","dir","basename","ext","extname","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","array","noop","nextTick","title","browser","env","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","chdir","umask","routes","muAppFrame","muCreate","muCreated","muAbout","muNotFound","shrinkUrlService","responseErrorInterceptor","muApp","angular","Init","./components/muAbout/muAbout.component","./components/muAppFrame/muAppFrame.component","./components/muCreate/muCreate.component","./components/muCreated/muCreated.component","./components/muNotFound/muNotFound.component","./interceptors/responseError","./routes","./services/ShrinkUrlService","app","component","template","transclude","./muAbout.tpl.html","./muAppFrame.tpl.html","muCreateComponent","ShrinkUrlService","$state","alert","host","window","location","defaults","clear","verifyUrlIsValid","urlLower","toLowerCase","startsWith","type","verifyCustomAliastIsValid","submitUrl","shrink","then","go","status","data","bind","closeAlert","$inject","controller","../../../global/globals","../../../lib/urlParser/urlParser","./muCreate.tpl.html","muCreatedComponent","shrinkResult","miniUrl","alias","./muCreated.tpl.html","./muNotFound.tpl.html","configResponseError","$httpProvider","interceptors","$q","responseError","rejection","configRoutes","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","otherwise","states","$http","post","service"],"mappings":"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","file":"MiniURL.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Based on the RFC 4648 base32 alphabet for hashIds.base32Lookup\n * https://en.wikipedia.org/wiki/Base32\n *\n * But I removed the l and added the 9 for more human readability\n */\n\nvar config = {\n    hashIds: {\n        createAtOnce: 1000000,\n        msBetweenBulks: 1000,\n        insertAtOnce: 1000,\n        regExp: /^[a-km-z2-79]+$/,\n        base32Lookup: 'abcdefghijkmnopqrstuvwxyz2345679'\n    },\n    customAlias: {\n        maxSize: 20,\n        regExp: /^[a-zA-Z0-9]+[a-zA-Z0-9\\-]*[a-zA-Z0-9]+$/\n    },\n    urlMaxSize: 2000\n};\n\nmodule.exports = config;\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar parser = require('./urlParserCommon').parse;\n\n/**\n * Wraps the parser to catch exceptions and log to console\n *\n * @param url\n * @param logErrors\n * @returns {boolean}\n */\nfunction urlParser(url, logErrors) {\n    if (typeof logErrors === 'undefined') {\n        logErrors = false;\n    }\n\n    var result = false;\n\n    try {\n        result = parser(url);\n    }\n    catch(e) {\n        if (logErrors) {\n            console.error(e);\n        }\n        result = false;\n    }\n\n    return result;\n};\n\nmodule.exports.parse = urlParser;\n},{\"./urlParserCommon\":3}],3:[function(require,module,exports){\n(function (process){\n/* parser generated by jison 0.4.17 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,8],$V1=[5,7],$V2=[5,7,9],$V3=[5,7,9,14],$V4=[2,14],$V5=[1,17],$V6=[1,19],$V7=[1,23],$V8=[1,32],$V9=[2,13],$Va=[1,36],$Vb=[2,19];\nvar parser = {trace: function trace() { },\nyy: {},\nsymbols_: {\"error\":2,\"input\":3,\"EMAIL\":4,\"EOF\":5,\"url\":6,\"HASHEND\":7,\"baseurlWithPath\":8,\"?\":9,\"querystring\":10,\"KEYVALUEPAIR\":11,\"&\":12,\"baseurl\":13,\"URLPATH\":14,\"hostname\":15,\"HTTP\":16,\"loginpassword\":17,\"port\":18,\":\":19,\"IDENTIFIER\":20,\"-\":21,\".\":22,\"password\":23,\"@\":24,\"PASSWORD_SPECIAL\":25,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"EMAIL\",5:\"EOF\",7:\"HASHEND\",9:\"?\",11:\"KEYVALUEPAIR\",12:\"&\",14:\"URLPATH\",16:\"HTTP\",19:\":\",20:\"IDENTIFIER\",21:\"-\",22:\".\",24:\"@\",25:\"PASSWORD_SPECIAL\"},\nproductions_: [0,[3,2],[3,3],[3,2],[6,1],[6,3],[10,1],[10,3],[8,1],[8,2],[13,1],[13,2],[13,3],[18,2],[15,1],[15,3],[15,2],[15,3],[17,4],[23,1],[23,1],[23,2],[23,2]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 13:\n\n        if (!/^[0-9]+$/.test($$[$0])) throw 'port should only contain integer numbers';\n        if (($$[$0] < 0) || ($$[$0] > 65536)) throw 'port out of bounds';\n    \nbreak;\n}\n},\ntable: [{3:1,4:[1,2],6:3,8:4,13:5,15:6,16:[1,7],20:$V0},{1:[3]},{5:[1,9]},{5:[1,11],7:[1,10]},o($V1,[2,4],{9:[1,12]}),o($V2,[2,8],{14:[1,13]}),o($V3,[2,10]),{15:14,17:15,20:[1,16]},o($V3,$V4,{18:18,19:[1,20],21:$V5,22:$V6}),{1:[2,1]},{5:[1,21]},{1:[2,3]},{10:22,11:$V7},o($V2,[2,9]),o($V3,[2,11]),{15:24,20:$V0},o($V3,$V4,{18:18,19:[1,25],21:$V5,22:$V6}),{15:26,20:$V0},o($V3,[2,16]),{15:27,20:$V0},{20:[1,28]},{1:[2,2]},o($V1,[2,5]),o($V1,[2,6],{12:[1,29]}),o($V3,[2,12]),{20:[1,31],23:30,25:$V8},o($V3,[2,15]),o($V3,[2,17]),o($V3,$V9),{10:33,11:$V7},{24:[1,34]},o($V3,$V9,{23:35,20:$Va,24:$Vb,25:$V8}),{20:$Va,23:37,24:[2,20],25:$V8},o($V1,[2,7]),{20:[2,18]},{24:[2,21]},{20:$Va,23:35,24:$Vb,25:$V8},{24:[2,22]}],\ndefaultActions: {9:[2,1],11:[2,3],21:[2,2],34:[2,18],35:[2,21],37:[2,22]},\nparseError: function parseError(str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        function _parseError (msg, hash) {\n            this.message = msg;\n            this.hash = hash;\n        }\n        _parseError.prototype = Error;\n\n        throw new _parseError(str, hash);\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    _token_stack:\n        var lex = function () {\n            var token;\n            token = lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        };\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n                    if (typeof action === 'undefined' || !action.length || !action[0]) {\n                var errStr = '';\n                expected = [];\n                for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                        expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                }\n                if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                }\n                this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                });\n            }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function (match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex() {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin(condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState(condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 'WHITESPACE';\nbreak;\ncase 1:return 16;\nbreak;\ncase 2:return 4;\nbreak;\ncase 3:return 5;\nbreak;\ncase 4:return 7; /* Might need to investigate to make it more roboust */\nbreak;\ncase 5:return 14;\nbreak;\ncase 6:return 11;\nbreak;\ncase 7:return 21;\nbreak;\ncase 8:return 22;\nbreak;\ncase 9:return 19;\nbreak;\ncase 10:return 24;\nbreak;\ncase 11:return '/';\nbreak;\ncase 12:return 9;\nbreak;\ncase 13:return 12;\nbreak;\ncase 14:return '=';\nbreak;\ncase 15:return '_';\nbreak;\ncase 16:return '+';\nbreak;\ncase 17:return 20;\nbreak;\ncase 18:return 25;\nbreak;\n}\n},\nrules: [/^(?:\\s+)/,/^(?:^((H|h)(T|t)(T|t)(P|p)(S|s)?:\\/\\/))/,/^(?:^([M|m][A|a][I|i][L|l][T|t][O|o]:(\\/\\/)?(([0-9]|[a-z]|[A-Z])+((_|-|\\.)*([0-9]|[a-z]|[A-Z])+)*)+@(([0-9]|[a-z]|[A-Z])+((-)*([0-9]|[a-z]|[A-Z])+)*)(\\.(([0-9]|[a-z]|[A-Z])+((-)*([0-9]|[a-z]|[A-Z])+)*))*))/,/^(?:$)/,/^(?:(#[^ ]+))/,/^(?:(\\/(([0-9]|[a-z]|[A-Z]|\\+|_|-|'|\\.|\\(|\\)|%20|%27)+\\/?)*))/,/^(?:([0-9]|[a-z]|[A-Z]|_)+=([0-9]|[a-z]|[A-Z]|_|\\+|%20|-|\\.)+)/,/^(?:-)/,/^(?:\\.)/,/^(?::)/,/^(?:@)/,/^(?:\\/)/,/^(?:\\?)/,/^(?:&)/,/^(?:=)/,/^(?:_\\b)/,/^(?:\\+)/,/^(?:([0-9]|[a-z]|[A-Z])+)/,/^(?:(%20|%21|%23|%24|%26|%27|%28|%29|%2A|%2B|%2C|%2F|%3A|%3B|%3D|%3F|%40|%5B|%5D)+)/],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain(args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}\n}).call(this,require('_process'))\n},{\"_process\":6,\"fs\":4,\"path\":5}],4:[function(require,module,exports){\n\n},{}],5:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n},{\"_process\":6}],6:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],7:[function(require,module,exports){\n'use strict';/*global angular*/\nvar routes = require('./routes');\nvar muAppFrame = require('./components/muAppFrame/muAppFrame.component');\nvar muCreate = require('./components/muCreate/muCreate.component');\nvar muCreated = require('./components/muCreated/muCreated.component');\nvar muAbout = require('./components/muAbout/muAbout.component');\nvar muNotFound = require('./components/muNotFound/muNotFound.component');\nvar shrinkUrlService = require('./services/ShrinkUrlService');\nvar responseErrorInterceptor = require('./interceptors/responseError');\n\nvar muApp = angular.module('shrinkUrl', [ 'ui.router', 'ui.bootstrap' ]);\n\n/**\n * Initializing routes\n */\nroutes.Init(muApp);\n\n/**\n * Initializing services\n */\nshrinkUrlService.Init(muApp);\n\n/**\n * Initializing interceptors\n */\nresponseErrorInterceptor.Init(muApp);\n\n/**\n * Initializing components\n */\nmuAppFrame.Init(muApp);\nmuCreate.Init(muApp);\nmuCreated.Init(muApp);\nmuAbout.Init(muApp);\nmuNotFound.Init(muApp);\n\n\n},{\"./components/muAbout/muAbout.component\":8,\"./components/muAppFrame/muAppFrame.component\":10,\"./components/muCreate/muCreate.component\":12,\"./components/muCreated/muCreated.component\":14,\"./components/muNotFound/muNotFound.component\":16,\"./interceptors/responseError\":18,\"./routes\":19,\"./services/ShrinkUrlService\":20}],8:[function(require,module,exports){\n'use strict';\n\n/**\n * Initializes the component\n *\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.component('muAbout', {\n        template: require('./muAbout.tpl.html'),\n        transclude: true\n    });\n};\n},{\"./muAbout.tpl.html\":9}],9:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"container\\\">\\n    <h3>About Page</h3>\\n    <hr>\\n    <p>This page shortens URLs, provides short aliases for redirection of long URLs as well as custom aliases for such\\n        URLs. The code can be found in the <a href=\\\"https://github.com/luisgarciaalanis/MiniURL\\\">GitHub page</a>.</p>\\n    <br>\\n    <h4><strong>Technologies used for the app backend:</strong></h4>\\n    <ol>\\n        <li>Node with Hapi.js web framework.</li>\\n        <li>MongoDB (the reason for using a NOSQL database was because it's suppose\\n            to be lightning fast when used with non relational data and it also works with cloud providers like AZURE\\n            and AWS).</li>\\n        <li>App written in Ecmascript 6 (ES6 - Javascript 2015) except a few files shared with the frontend.</li>\\n    </ol>\\n    <h4><strong>Technologies used for the app frontend:</strong></h4>\\n    <ol>\\n        <li>AngularJS as a single page application.</li>\\n        <li>Angular ui router</li>\\n        <li>Twitter Bootstrap for styling.</li>\\n        <li>App written in vanilla ES5 javascript.</li>\\n    </ol>\\n    <h4><strong>Technologies used for deployment:</strong></h4>\\n    <ol>\\n        <li>Docker for easy deployment to production.</li>\\n    </ol>\\n    <h4><strong>Technologies I use for continuous integration:</strong></h4>\\n    <ol>\\n        <li>Jenkins</li>\\n        <li>Dockerhub repository</li>\\n    </ol>\\n    <h4><strong>Technologies I use for unit testing:</strong></h4>\\n    <ol>\\n        <li>Mocha</li>\\n        <li>Selenium web driver (Some basic tests and not integrated with Jenkins).</li>\\n    </ol>\\n    <br>\\n    <h4><strong>How it works:</strong></h4>\\n    <br>\\n    <h5><strong>Data storage:</strong></h5>\\n    <p>Data is stored into one of two collections, one for the custom aliased URLs and the other one for the automatic\\n        generated URLs. The reason behind this decision was because more than one custom alias could potentially point\\n        to the same URL; In order for MongoDB to be speedy while handling millions of entries it needs to have indexes of\\n        unique data, so I kept the auto generated aliases on its on data collection, so if more than one person enters a\\n        URL it can return the same alias <strong>just like TinyURL.com works</strong>. When submitting a custom alias we\\n        never return the same URL if its already there, we don't care we just generate a new entry on the collection.\\n    </p>\\n    <p>One of the big problems is finding a way to generate the aliases in a unique way. This resulted problematic since\\n        I could not find a way to do this without the possibility of alias collisions. This is why the application\\n        seeds the database with random generated aliases with no URLs. It then goes and uses them as URLs are entered.\\n        The cost of this design is space pre allocated on the database, I think this approach is better than generating\\n        random aliases on the fly with the possibility of collissions. The amount of auto generated seeds can be\\n        configured. Once the app runs out of them it insets the next batch.\\n    </p>\\n    <p>\\n        For example if the app is configured to generate one million aliases it will generate a list of sequential\\n        ordered integers, it will then randomize the list with an N log N algorithm. It will convert each number into\\n        a string based on the aliases allowed characters and it will bulk insert it into the database.\\n    </p>\\n    <p>\\n        Bulk inserting into the database is done in chunks of 1000 since its the default standard form mongo bulk\\n        operations. Also it does this in a times controlled async wait to avoid blocking the app and allowing the app to\\n        keep operating as soon as the first inserts are done. It also tracks how many elements have been inserted into\\n        the database so that the next time the app needs to seed it nows from where to start the alias creation.\\n    </p>\\n    <br>\\n    <h5><strong>Aliases:</strong></h5>\\n    <p>\\n        Aliases are generated from a subset of numbers and letters in lower case, avoiding some that could cause\\n        confusion to the user. For example a '0' could be confused with an 'O', and 'l' could be confused with an 'I' or\\n        even the number '1' depending on the font being used.\\n    </p>\\n    <p><strong>Alias valid characters (a modified set of Base32 encoding): </strong>abcdefghijkmnopqrstuvwxyz2345679</p>\\n    <br>\\n    <h4><strong>Wish list/ missing:</strong></h4>\\n    <ol>\\n        <li>More work on the parser to be smarter and more <a href=\\\"https://tools.ietf.org/html/rfc3986\\\">rfc3986</a>\\n        compliant. Including IpV6 native Addresses....</li>\\n        <li>More work on the parser to return an object instead of true, the object containing the parts of the URL.\\n        The idea is to be more robust to prevent self injection circular denial of service attack.</li>\\n        <li>More tests, and more UI tests.</li>\\n    </ol>\\n    <br>\\n    <h4><strong>Thanks!</strong></h4>\\n    <br>\\n</div>\\n\";\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n/**\n * Initializes the component\n *\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.component('muAppFrame', {\n        template: require('./muAppFrame.tpl.html'),\n        transclude: true\n    });\n};\n},{\"./muAppFrame.tpl.html\":11}],11:[function(require,module,exports){\nmodule.exports = \"<nav class=\\\"navbar navbar-inverse\\\" role=\\\"navigation\\\">\\n    <div class=\\\"navbar-header\\\">\\n        <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" ng-click=\\\"isNavCollapsed = !isNavCollapsed\\\">\\n            <span class=\\\"sr-only\\\">Toggle navigation</span>\\n            <span class=\\\"icon-bar\\\"></span>\\n            <span class=\\\"icon-bar\\\"></span>\\n            <span class=\\\"icon-bar\\\"></span>\\n        </button>\\n        <a class=\\\"navbar-brand\\\" href=\\\"/\\\">MiniURL</a>\\n    </div>\\n    <div class=\\\"collapse navbar-collapse\\\" uib-collapse=\\\"!isNavCollapsed\\\">\\n        <ul class=\\\"nav navbar-nav\\\">\\n            <li><a href=\\\"/create\\\">Create</a></li>\\n            <li><a href=\\\"/about\\\">About</a></li>\\n        </ul>\\n    </div>\\n</nav>\\n<div ng-transclude></div>\\n\";\n\n},{}],12:[function(require,module,exports){\n/*global window */\n/*jslint white: true */\n'use strict';\n\nvar urlParser = require('../../../lib/urlParser/urlParser');\nvar defaults = require('../../../global/globals');\n\n/**\n * Handles the MiniURL create page\n *\n * @param ShrinkUrlService\n * @param $state\n */\nfunction muCreateComponent(ShrinkUrlService, $state) {\n\n    this.url = '';\n    this.customAlias = '';\n    this.alert = null;\n    this.host = window.location.host;\n    this.urlMaxSize = defaults.urlMaxSize;\n    ShrinkUrlService.clear();\n\n    /**\n     * Verifies if a URL is valid\n     *\n     * @returns {boolean}\n     */\n    this.verifyUrlIsValid = function () {\n        var result = false,\n            urlLower = null;\n\n        this.url = this.url.trim();\n\n        if (urlParser.parse(this.url)) {\n            urlLower = this.url.toLowerCase();\n            if (!urlLower.startsWith('http://') && !urlLower.startsWith('https://') && !urlLower.startsWith('mailto:')) {\n                this.url = 'http://' + this.url;\n            }\n\n            if (this.url.length < defaults.urlMaxSize) {\n                result = true;\n            } else {\n                this.alert = {\n                    type: 'danger',\n                    msg: 'URL is too long, make sure the URL is less than ' + defaults.urlMaxSize +\n                         ' charactes long, including http(s)://'\n                };\n            }\n        } else {\n            this.alert = { type: 'danger', msg: 'Invalid URL!' };\n        }\n\n        return result;\n    };\n\n    /**\n     * Verifies if the custom alias is valid\n     * @returns {boolean}\n     */\n    this.verifyCustomAliastIsValid = function () {\n        var result = false;\n        this.customAlias = this.customAlias.trim();\n\n        if (this.customAlias.length === 0 || defaults.customAlias.regExp.test(this.customAlias)) {\n            result = true;\n        }\n\n        if (!result) {\n            this.alert = { type: 'danger', msg: 'Invalid alias! Make sure the alias does not conain spaces or has any dashes (-) at the beginning or end.' };\n        }\n\n        return result;\n    };\n\n    /**\n     * Submits a URL to be shrinked\n     */\n    this.submitUrl = function () {\n        if (this.verifyUrlIsValid() && this.verifyCustomAliastIsValid()) {\n            ShrinkUrlService.shrink(this.url, this.customAlias).then(\n                function () {\n                    $state.go('Created');\n                },\n                function (error) {\n                    switch (error.status) {\n                        case 500:\n                            this.alert = { type: 'danger', msg: 'Failed to shrink the URL.'};\n                            break;\n                        case 403:\n                            this.alert = { type: 'danger', msg: error.data.message };\n                            break;\n                        case 409:\n                            this.alert = { type: 'danger', msg: error.data.message };\n                            break;\n                        case 503:\n                            this.alert = { type: 'danger', msg: 'MiniUrl service is not available. Try again at a later time.' };\n                            break;\n                        default:\n                            this.alert = { type: 'danger', msg: 'Unexpected Error' };\n                    }\n                }.bind(this)\n            );\n        }\n    };\n\n    /**\n     * Closes an alert being displayed\n     */\n    this.closeAlert = function () {\n        this.alert = null;\n    };\n}\n\nmuCreateComponent.$inject = [ 'ShrinkUrlService', '$state' ];\n\n/**\n * Initializes the component\n *\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.component('muCreate', {\n        template: require('./muCreate.tpl.html'),\n        controller: muCreateComponent\n    });\n};\n},{\"../../../global/globals\":1,\"../../../lib/urlParser/urlParser\":2,\"./muCreate.tpl.html\":13}],13:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"container\\\">\\n    <h3>Welcome to MiniURL!</h3>\\n    <p>This site helps you create a mini URL out of a standard URL. For more information about this site and the\\n        technologies used to create it see the <a href=\\\"/about\\\">About</a> page.</p>\\n    <hr>\\n    <row>\\n        <form class=\\\"col-sm-6\\\">\\n            <row>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"urlString\\\">Enter a long URL:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"urlString\\\" ng-model=\\\"$ctrl.url\\\" maxlength=\\\"$ctrl.urlMaxSize\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"customAlias\\\" class=\\\"control-label\\\">Custom alias (optional):</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"customAlias\\\" ng-model=\\\"$ctrl.customAlias\\\"\\n                           maxlength=\\\"$ctrl.aliasMaxSize\\\" placeholder=\\\"\\\">\\n                    <p class=\\\"help-block\\\">May contain letters, numbers, and dashes, but not begin or end with dashes.\\n                        the custom URL will look like: </p>\\n                    <p class=\\\"help-block\\\">http://{{ $ctrl.host }}/{{ $ctrl.customAlias }}</p>\\n                </div>\\n            </row>\\n            <div class=\\\"form-group\\\">\\n                <button type=\\\"submit\\\" name=\\\"MakeMiniURL\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"!$ctrl.url\\\" ng-click=\\\"$ctrl.submitUrl()\\\">Make MiniURL!</button>\\n            </div>\\n        </form>\\n        <div class=\\\"col-sm-12\\\">\\n            <div class=\\\"form-group\\\">\\n                <div uib-alert ng-if=\\\"$ctrl.alert\\\" ng-class=\\\"'alert-' + ($ctrl.alert.type || 'warning')\\\" close=\\\"$ctrl.closeAlert()\\\">{{$ctrl.alert.msg}}</div>\\n            </div>\\n        </div>\\n    </row>\\n</div>\\n\";\n\n},{}],14:[function(require,module,exports){\n/*global window */\n'use strict';\n\nfunction muCreatedComponent(ShrinkUrlService, $state) {\n    if (ShrinkUrlService.shrinkResult) {\n        this.miniUrl = 'http://' + window.location.host + '/' + ShrinkUrlService.shrinkResult.alias;\n        this.url = ShrinkUrlService.shrinkResult.url;\n    } else {\n        $state.go('Create');\n    }\n}\n\nmuCreatedComponent.$inject = [ 'ShrinkUrlService', '$state' ];\n\n/**\n * Initializes the component\n *\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.component('muCreated', {\n        template: require('./muCreated.tpl.html'),\n        controller: muCreatedComponent\n    });\n};\n},{\"./muCreated.tpl.html\":15}],15:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"container\\\">\\n    <h3>MiniURL created successfully!</h3>\\n    <p>You can use share this url with anyone. When they click on the MiniUrl they will be redirected to the original\\n    URL you provided.</p>\\n    <br>\\n    <p>The <strong>MiniURL</strong> is {{ ::$ctrl.miniUrl.length }} characters long while the <strong>original URL</strong> is {{ ::$ctrl.url.length }} characters long</p>\\n    <p><strong>MiniURL generated:</strong> {{ ::$ctrl.miniUrl }}</p>\\n    <p><a href=\\\"{{ ::$ctrl.miniUrl }}\\\" target=\\\"_blank\\\">Open in new window or tab</a></p>\\n    <p class=\\\"wrap-words\\\"><strong>Original URL:</strong> {{ ::$ctrl.url }}</p>\\n    <hr>\\n    <a class=\\\"btn btn-primary\\\" name=\\\"CreateAnother\\\" href=\\\"/\\\">Create another MiniURL</a>\\n</div>\\n\";\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\n/**\n * Initializes the component fot he not found page\n *\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.component('muNotFound', {\n        template: require('./muNotFound.tpl.html'),\n        transclude: true\n    });\n};\n},{\"./muNotFound.tpl.html\":17}],17:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"container\\\">\\n    <h3>Error: Unable to find the URL to redirect to!</h3>\\n    <p>Please check that the URL entered is correct.</p>\\n</div>\";\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\n/**\n * This interceptor captures the error generated when the page is running but the server is down and transforms it into\n * a 503 HTTP ERROR (Service unavailable).\n *\n * @param $httpProvider\n */\nfunction configResponseError($httpProvider) {\n    $httpProvider.interceptors.push(['$q', function ($q) {\n        return {\n            responseError: function (rejection) {\n                if (rejection.status === -1) {\n                    return $q.reject({ status: 503 });\n                }\n                return $q.reject(rejection);\n            }\n        };\n    }]);\n}\n\nconfigResponseError.$inject = [ '$httpProvider' ];\n\n/**\n * Export function to initialize the Response Error Interceptor\n *\n * @param app\n */\nmodule.exports.Init = function (app) {\n    app.config(configResponseError);\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\n/**\n * Configures the routes for the angular ui router\n *\n * @param $stateProvider\n * @param $urlRouterProvider\n * @param $locationProvider\n */\nfunction configRoutes($stateProvider, $urlRouterProvider, $locationProvider) {\n    $locationProvider.html5Mode(true);\n    $urlRouterProvider.otherwise('/');\n\n    /**\n     * Map containing the application routes\n     */\n    var states = [\n        { name: 'Create',   url: '/',         component: 'muCreate'   },\n        { name: 'Created',  url: '/created',  component: 'muCreated'  },\n        { name: 'About',    url: '/about',    component: 'muAbout'    },\n        { name: 'NotFound', url: '/notfound', component: 'muNotFound' }\n    ];\n\n    /**\n     * Registering the routes with the state provider so that the router can use them.\n     */\n    for (var index = 0 ; index < states.length ; index++) {\n        $stateProvider.state(states[index]);\n    }\n}\n\nconfigRoutes.$inject = [ '$stateProvider', '$urlRouterProvider', '$locationProvider' ];\n\n/**\n * Export function to initialize the router\n *\n * @param app\n */\nmodule.exports.Init = function(app) {\n    app.config(configRoutes);\n};\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\n/**\n * NOTE: Since the API is only one I am not using any REST helper module like ngResouce to save some space.\n *\n * Used to shrink a url\n *\n * @param $http\n * @constructor\n */\nfunction ShrinkUrlService($http) {\n    this.shrinkResult = null;\n\n    /**\n     * Clears the shrinkResult member variable so that any hard refresh on the results page is redirected to the create\n     * page instead.\n     */\n    this.clear = function () {\n        this.shrinkResult = null;\n    };\n\n    /**\n     * POSTs a call to the shrink API with the url and alias information\n     *\n     * @param url\n     * @param alias\n     * @returns {*|Promise.<TResult>}\n     */\n    this.shrink = function (url, alias) {\n        return $http.post('/api/v1/shrink', {\n            url: url,\n            alias: alias\n        }).then(\n            function (result) {\n                this.shrinkResult = result.data;\n                this.shrinkResult.url = url;\n                return this.shrinkResult;\n            }.bind(this)\n        );\n    };\n}\n\nShrinkUrlService.$inject = [ '$http' ];\n\n/**\n * Initializes the ShrinkUrlService used to shrink a url.\n * @param app\n * @constructor\n */\nmodule.exports.Init = function (app) {\n    app.service('ShrinkUrlService', ShrinkUrlService);\n};\n},{}]},{},[7]);\n"]}